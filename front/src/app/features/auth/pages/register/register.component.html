<mat-card-header>
  <mat-card-title>Utwórz konto</mat-card-title>
</mat-card-header>
<mat-card-content>
  <form [formGroup]="registerForm" (ngSubmit)="onSubmit()">
    <app-error-holder [visible]="registerError()">{{ authService.getErrorMessage(this.errorCode()) }}</app-error-holder>
    <div class="layout-container">
      <section>
        <mat-form-field appearance="outline">
          <mat-label for="email">Email</mat-label>
          <input
            matInput
            formControlName="email"
            name="email"
            type="email"
            required
            placeholder="Wprowadź Email"
            title="Email"
          />
          <mat-error *ngIf="registerForm.get('email')?.hasError('required')"> Email jest wymagany </mat-error>
          <mat-error *ngIf="registerForm.get('email')?.hasError('email')">
            Proszę podać poprawny adres email
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label for="password">Hasło</mat-label>
          <input
            matInput
            formControlName="password"
            type="password"
            name="password"
            placeholder="Wprowadź hasło"
            required
          />
          <mat-error *ngIf="registerForm.get('password')?.hasError('required')"> Hasło jest wymagane </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label for="repeat-password">Powtórz hasło</mat-label>
          <input
            matInput
            formControlName="repeatPassword"
            type="password"
            name="repeat-password"
            placeholder="Wprowadź hasło"
            required
          />
          <mat-error *ngIf="registerForm.get('repeatPassword')?.hasError('required')"> Hasło jest wymagane </mat-error>
          <mat-error *ngIf="registerForm.get('repeatPassword')?.hasError('passwordMismatch')">
            Hasła różnią się
          </mat-error>
        </mat-form-field>
      </section>
      <section>
        <mat-form-field appearance="outline">
          <mat-label for="name">Imię</mat-label>
          <input
            matInput
            formControlName="name"
            name="name"
            type="text"
            required
            placeholder="Wprowadź Imię"
            title="Imię"
          />
          <mat-error *ngIf="registerForm.get('name')?.hasError('required')"> Imię jest wymagane </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label for="surname">Nazwisko</mat-label>
          <input
            matInput
            formControlName="surname"
            name="surname"
            type="text"
            required
            placeholder="Wprowadź Nazwisko"
            title="Nazwisko"
          />
          <mat-error *ngIf="registerForm.get('surname')?.hasError('required')"> Nazwisko jest wymagane </mat-error>
        </mat-form-field>

        <mat-form-field appearance="outline">
          <mat-label>Wybierz walutę</mat-label>
          <mat-select formControlName="currency" name="currency" required>
            <mat-option value="1">Polski złoty (PLN)</mat-option>
            <mat-option value="2">Dolar amerykański (USD)</mat-option>
            <mat-option value="3">Euro (EUR)</mat-option>
          </mat-select>
          <mat-error *ngIf="registerForm.get('currency')?.hasError('required')"> Waluta jest wymagana </mat-error>
        </mat-form-field>
      </section>
    </div>

    <button mat-flat-button color="primary" type="submit">Zarejestruj się</button>
  </form>
  <p class="bottom-nav">Masz już konto? <a routerLink="/login">Przejdź do logowania</a></p>
</mat-card-content>
